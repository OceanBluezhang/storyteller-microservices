<!DOCTYPE html>
<html>
  <head>
    <meta charset='utf-8'>
    <meta http-equiv="X-UA-Compatible" content="chrome=1">

    <link rel="stylesheet" type="text/css" href="stylesheets/stylesheet.css" media="screen">
    <link rel="stylesheet" type="text/css" href="stylesheets/github-dark.css" media="screen">
    <link rel="stylesheet" type="text/css" href="stylesheets/print.css" media="print">

    <title>Storyteller-microservices by codependent</title>
  </head>

  <body>

    <header>
      <div class="container">
        <h1>Storyteller-microservices</h1>
        <h2>Spring Cloud Netflix Storyteller Microservices</h2>

        <section id="downloads">
          <a href="https://github.com/codependent/storyteller-microservices/zipball/master" class="btn">Download as .zip</a>
          <a href="https://github.com/codependent/storyteller-microservices/tarball/master" class="btn">Download as .tar.gz</a>
          <a href="https://github.com/codependent/storyteller-microservices" class="btn btn-github"><span class="icon"></span>View on GitHub</a>
        </section>
      </div>
    </header>

    <div class="container">
      <section id="main_content">
        <h1>
<a id="storyteller-microservices" class="anchor" href="#storyteller-microservices" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>storyteller-microservices</h1>

<p>Storyteller Microservices implemented with Spring Boot + Spring Cloud Netflix</p>

<ul>
<li>
<strong>archimedes</strong>: acts as Eureka Server. Endpoint: <code>http://localhost:8761</code>
</li>
<li>
<strong>config-server</strong>: external config server from a <a href="https://github.com/codependent/storyteller-microservices-config">Git Repo</a>. Endpoint: <code>http://localhost:8888</code>
</li>
<li>
<strong>hystrix-dashboard</strong>: aggretated metrics using Turbine. IMPORTANT: overrides some Turbine files to allow having multiple applications on the same host. <a href="https://github.com/Netflix/Turbine/pull/105">More info</a>. Endpoint: <code>http://localhost:10000</code>
</li>
<li>
<strong>images-ms</strong>: mid-tier Eureka Client that returns a random image URL. Endpoint: <code>http://localhost:9999/images?random=true&amp;fields=url</code>
</li>
<li>
<strong>stories-ms</strong>: mid-tier Eureka Client that generates a random HTML story inserting a random image gotten from the previous service. Endpoint: <code>http://localhost:9988/stories?random=true</code>
</li>
<li>
<strong>storyteller-api</strong>: (master/high-availability branches) API Eureka Client that invokes stories-ms, using a <strong>Feign</strong> client, to get a random story. Endpoint: <code>http://localhost:9977/api/stories?random=true</code>
</li>
<li>
<strong>gatekeeper</strong>: (zuul/high-availability branches) Zuul edge service that substitutes storyteller-api as the external entry point. Endpoint: <code>http://localhost:9977/api/stories?random=true</code>
</li>
</ul>

<p>This structure tries to simulate a scenario like the following:</p>

<p><img src="https://raw.githubusercontent.com/codependent/storyteller-microservices/master/diagram.png" alt="Microservices architecture"></p>

<p>One API service exposed to clients and two mid tier services, all of them sharing a Eureka server instance (Archimedes) and a ConfigServer that loads the properties from a Git repo.</p>

<p><strong><em>Branch differences</em></strong></p>

<ul>
<li>
<strong>master</strong>: storyteller-api acts as a gateway for the internal microservices and uses a Feign client to invoke stories-ms. <strong><a href="https://github.com/Netflix/feign/issues/298">At the moment</a> there is no way to specify a fallback method for Feign clients.</strong>
</li>
<li>
<strong>no-config-server</strong>: same as master without using a centralized config-server.</li>
<li>
<strong>zuul</strong>: uses a zuul reverse-proxy instead of storyteller-api gateway.</li>
<li>
<strong>high-availability</strong>: high availability environment using two eureka registers, a zuul reverse proxy, and 2 instances of each service.</li>
<li>
<strong>high-availability-rxjava</strong>: Same as above but using reactive programming. It also adds 2 <strong>Spring Cloud Stream</strong> microservices, a log processor and a central logger. Uses <strong>Spring Cloud Sleuth</strong> in all microservices for request tracing in <strong>Zipkin</strong>.</li>
<li>
<strong>high-availability-rxjava-sidecar</strong>: Polyglot version in which Sidecar integrates a Node.js microservice.</li>
<li>
<strong>consul</strong>: Consul replaces Eureka Server as microservice registry.</li>
</ul>
      </section>
    </div>

    
  </body>
</html>
